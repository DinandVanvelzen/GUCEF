{
	"channelId": "-1",
	"channelName": "redis2storage",
	"collectMetrics": "true",
	"metricsIntervalInMs": "1000",
	"ticketRefillOnBusyCycle": "10000",
	"PubSubSides": {
		"redis-source": {
			"allowOutOfOrderPublishRetry": true,
			"allowTimedOutPublishedInFlightMsgsRetryOutOfOrder": true,
			"applyThreadCpuAffinity": true,
			"cpuAffinityForPubSubThread": 0,
			"maxMsgPublishRetryAttempts": 20,
			"maxMsgPublishRetryTotalTimeInMs": 60000,
			"maxPublishedMsgInFlightTimeInMs": 240000,
			"performPubSubInDedicatedThread": false,
			"retryFailedPublishAttempts": true,
			"subscribeWithoutBookmarkIfNoneIsPersisted": true,
			"PubSubClientConfig": {
				"pubsubClientType": "ClusteredRedis",
				"reconnectDelayInMs": 1000,
				"pubsubIdPrefix": "{auto}",
				"maxTotalMsgsInFlight": 200000,
				"RemoteAddresses": [ "127.0.0.1:6379" ],
				"CustomConfig": {},
				"journalConfig": {
					"useJournal": true,
					"journalType": "binary",
					"journalPath": "vfs://DataPath/journals/clientType/{clientType}/instance/{clientInstance}"
				},
				"Topics": [],
				"defaultTopicConfig": {
					"isOptional": false,
					"needSubscribeSupport": true,
					"needPublishSupport": false,
					"preferDedicatedConnection": true,
					"topicName": "put-your-redis-stream-name-here",
					"consumerGroupName": "",
					"consumerName": "",
					"useTopicLevelMaxTotalMsgsInFlight": false,
					"maxTotalMsgsInFlight": -1,
					"journalConfig": {
						"useJournal": true,
						"journalType": "binary",
						"journalPath": "vfs://DataPath/journals/clientType/{clientType}/instance/{clientInstance}/topicName/{topicName}"
					},
					"CustomConfig": {
						"redisXAddMaxLen": -1,
						"redisXAddMaxLenIsApproximate": true,
						"redisXAddIgnoreMsgId": true,
						"redisXReadDefaultOffset": "0",
						"redisXReadCount": 10000,
						"redisXReadBlockTimeoutInMs": 500,
						"treatXReadBlockTimeoutAsEndOfDataEvent": true,
						"minAvailableInFlightSlotsBeforeRead": 100,
						"useDedicatedReadThread": true
					}
				},
				"DesiredFeatures": {
					"supportsPublishing": false,
					"supportsSubscribing": true,
					"supportsAutoReconnect": true,
					"supportsSubscriberRateThrottling": true,
					"supportsSubscriptionMsgArrivalDelayRequests": true,
					"supportsSubscriptionEndOfDataEvent": true,
					"supportsBinaryPayloads": true,
					"supportsMultiHostSharding": false,
					"supportsPerMsgIds": true,
					"supportsMsgIndex": true,
					"supportsPrimaryPayloadPerMsg": true,
					"supportsAbsentPrimaryPayloadPerMsg": true,
					"supportsKeyValueSetPerMsg": true,
					"supportsDuplicateKeysPerMsg": true,
					"supportsMetaDataKeyValueSetPerMsg": true,
					"supportsSubscriberMsgReceivedAck": false,
					"supportsAutoMsgReceivedAck": false,
					"supportsAbsentMsgReceivedAck": false,
					"supportsAckUsingLastMsgInBatch": true,
					"supportsAckUsingBookmark": true,
					"supportsBookmarkingConcept": true,
					"supportsSubscribingUsingBookmark": true,
					"supportsServerSideBookmarkPersistance": false,
					"supportsAutoBookmarking": false,
					"supportsMsgIdBasedBookmark": false,
					"supportsMsgIndexBasedBookmark": false,
					"supportsTopicIndexBasedBookmark": false,
					"supportsMsgDateTimeBasedBookmark": false,
					"supportsDerivingBookmarkFromMsg": true,
					"supportsDiscoveryOfAvailableTopics": true,
					"supportsGlobPatternTopicNames": true,
					"supportsMetrics": true
				}
			},
			"PubSubBookmarkPersistenceConfig": {
				"bookmarkPersistenceType": "VFS",
				"bookmarkNamespace": "",
				"autoPersistAlways": false,
				"autoPersistIfClientSideBookmarksNeeded": true,
				"autoPersistIntervalInMs": 1000,
				"autoPersistMsgInterval": 1000,
				"maxNrOfBookmarksToKeep": 10,
				"CustomConfig": {
					"vfsRootPath": "DataPath/bookmarks",
					"persistenceStructure": "{bookmarkNamespace}/clientType/{clientType}/topicName/{topicName}"
				}
			}
		},
		"storage-sink": {
			"allowOutOfOrderPublishRetry": true,
			"allowTimedOutPublishedInFlightMsgsRetryOutOfOrder": true,
			"applyThreadCpuAffinity": true,
			"cpuAffinityForPubSubThread": 1,
			"maxMsgPublishRetryAttempts": 20,
			"maxMsgPublishRetryTotalTimeInMs": 60000,
			"maxPublishedMsgInFlightTimeInMs": 240000,
			"performPubSubInDedicatedThread": false,
			"retryFailedPublishAttempts": true,
			"subscribeWithoutBookmarkIfNoneIsPersisted": true,
			"PubSubClientConfig": {
				"pubsubClientType": "STORAGE",
				"reconnectDelayInMs": 0,
				"pubsubIdPrefix": "{auto}",
				"maxTotalMsgsInFlight": 200000,
				"CustomConfig": {},
				"journalConfig": {
					"useJournal": true,
					"journalType": "binary",
					"journalPath": "vfs://DataPath/journals/clientType/{clientType}/instance/{clientInstance}"
				},
				"Topics": [],
				"defaultTopicConfig": {
					"isOptional": false,
					"needSubscribeSupport": false,
					"needPublishSupport": true,
					"preferDedicatedConnection": false,
					"topicName": "msgcapture",
					"consumerGroupName": "",
					"consumerName": "",
					"useTopicLevelMaxTotalMsgsInFlight": false,
					"maxTotalMsgsInFlight": 10000,
					"journalConfig": {
						"useJournal": true,
						"journalType": "binary",
						"journalPath": "vfs://DataPath/journals/clientType/{clientType}/instance/{clientInstance}/topicName/{topicName}"
					},
					"CustomConfig": {
						"desiredNrOfBuffers": 3,
						"desiredMinimalSerializedBlockSize": 52428800,
						"desiredMaxTimeToWaitToGrowSerializedBlockSizeInMs": 30000,
						"vfsStorageRootPath": "DataPath/storage/{topicName}",
						"vfsFileExtention": "pubsubcapture",
						"encodeCodecFamily": "",
						"encodeCodecName": "",
						"decodeCodecFamily": "",
						"decodeCodecName": "",
						"ticketRefillOnBusyCycle": 10000,
						"performVfsOpsASync": false,
						"performVfsOpsInDedicatedThread": false,
						"applyDedicatedVfsOpsThreadCpuAffinity": false,
						"cpuAffinityForDedicatedVfsOpsThread": 0,
						"collectMetrics": true,
						"subscribeWithoutBookmarkIfNoneIsPersisted": true,
						"autoPushAfterStartupIfStorageToPubSub": true,
						"autoPushAfterStartupIsPersistent": true,
						"youngestStoragePubSubMsgFileToLoad": "",
						"oldestStoragePubSubMsgFileToLoad": "",
						"defaultCodecDecodeGrowthRatioExpectation": 6.0,
						"bestEffortDeserializeIsAllowed": true,
						"maxStorageCorruptionDetectionsToBeHealthy": 0,
						"maxStorageDeserializationFailuresToBeHealthy": 0,
						"treatEveryFullfilledRequestAsEODEvent": false,
						"deleteContainersWithFullyAckdContent": false,
						"moveContainersWithFullyAckdContent": true,
						"vfsStorageRootPathForFullyAckdContainers": "DataPath/storage-sink/ackd",
						"maxCompletedContainerRefsToRetain": 50,
						"binarySerializerOptions": {
							"msgDateTimeIncluded": true,
							"msgDateTimeAsMsSinceUnixEpochInUtc": true,
							"msgIdIncluded": true,
							"msgIndexIncluded": false,
							"msgPrimaryPayloadIncluded": false,
							"msgKeyValuePairsIncluded": true,
							"msgMetaDataKeyValuePairsIncluded": false
						},
						"serializerOptions": {
							"msgDateTimeIncluded": true,
							"msgDateTimeAsMsSinceUnixEpochInUtc": true,
							"msgIdIncluded": true,
							"msgIndexIncluded": false,
							"msgPrimaryPayloadIncluded": false,
							"msgPrimaryPayloadTypeIncluded": false,
							"msgKeyValuePairsIncluded": true,
							"msgMetaDataKeyValuePairsIncluded": false,
							"includeUndefinedValues": false,
							"receiveActionIdIncluded": true,
							"originTopicObjPointerIncluded": false,
							"originTopicNameIncluded": false,
							"originClientTypeNameIncluded": false,
							"originClientObjPointerIncluded": false
						}
					}
				},
				"DesiredFeatures": {
					"supportsPublishing": true,
					"supportsSubscribing": false,
					"supportsAutoReconnect": true,
					"supportsSubscriberRateThrottling": true,
					"supportsSubscriptionMsgArrivalDelayRequests": true,
					"supportsSubscriptionEndOfDataEvent": true,
					"supportsBinaryPayloads": true,
					"supportsMultiHostSharding": false,
					"supportsPerMsgIds": true,
					"supportsMsgIndex": true,
					"supportsPrimaryPayloadPerMsg": true,
					"supportsAbsentPrimaryPayloadPerMsg": true,
					"supportsKeyValueSetPerMsg": true,
					"supportsDuplicateKeysPerMsg": true,
					"supportsMetaDataKeyValueSetPerMsg": true,
					"supportsSubscriberMsgReceivedAck": false,
					"supportsAutoMsgReceivedAck": false,
					"supportsAbsentMsgReceivedAck": false,
					"supportsAckUsingLastMsgInBatch": true,
					"supportsAckUsingBookmark": true,
					"supportsBookmarkingConcept": true,
					"supportsSubscribingUsingBookmark": true,
					"supportsServerSideBookmarkPersistance": false,
					"supportsAutoBookmarking": false,
					"supportsMsgIdBasedBookmark": false,
					"supportsMsgIndexBasedBookmark": false,
					"supportsTopicIndexBasedBookmark": false,
					"supportsMsgDateTimeBasedBookmark": false,
					"supportsDerivingBookmarkFromMsg": true,
					"supportsDiscoveryOfAvailableTopics": true,
					"supportsGlobPatternTopicNames": true,
					"supportsMetrics": true
				}
			},
			"PubSubBookmarkPersistenceConfig": {
				"bookmarkPersistenceType": "VFS",
				"bookmarkNamespace": "",
				"autoPersistAlways": false,
				"autoPersistIfClientSideBookmarksNeeded": true,
				"autoPersistIntervalInMs": 1000,
				"autoPersistMsgInterval": 1000,
				"maxNrOfBookmarksToKeep": 10,
				"CustomConfig": {
					"vfsRootPath": "DataPath/bookmarks",
					"persistenceStructure": "{bookmarkNamespace}/clientType/{clientType}/topicName/{topicName}"
				}
			}
		}
	},
	"PubSubFlowRouterConfig": {
		"ackStyle": "AllOrNothing",
		"minBadHealthDurationBeforeFailoverInMs": 5000000,
		"minBadHealthDurationBeforeSpilloverInMs": 5000000,
		"minPrimarySideGoodHealthDurationBeforeActivationInMs": 5000,
		"minFailoverSideGoodHealthDurationBeforeActivationInMs": 5000,
		"minSpilloverSideGoodHealthDurationBeforeActivationInMs": 5000,
		"routeSwitchingTimerIntervalInMs": 1000,
		"routes": [{
			"fromSideId": "redis-source",
			"toSideId": "storage-sink",
			"failoverSideId": "",
			"spilloverBufferSideId": "",
			"deadLetterSideId": "",
			"toSideTopicsAutoMatchFromSide": true,
			"failoverSideTopicsAutoMatchFromSide": true,
			"spilloverSideTopicsAutoMatchFromSide": true,
			"deadLetterSideTopicsAutoMatchFromSide": true,
			"preferFromTopicThreadForDestination": true,
			"topicAssociations": []
		}]
	}
}